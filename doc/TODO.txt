# カートモデルを設計する

## 標準のシナリオ

ECサイトに欠かせないカートをモデリングして実装する。

1. カートには購入できる上限金額を設定できる
    - 金額は日本円を前提とする
1. カートには買いたい商品を追加できる。数量も指定できる
    - 商品には名前、価格、ポイント還元率(%)が含まれる
    - ただし、追加できる商品の数量は、1〜99個までとする
    - ただし、カートの上限金額を超える場合は商品を追加できない
1. カートから商品を削除できる
    - ただし、登録されていない商品は削除できない
1. カート内の商品数を変更できる
    - ただし、登録されていない商品の数量は変更できない
1. カート内の商品内容を確認できる
    - 商品と商品数以外に合計金額も確認できる
    - 獲得できる予定のポイントを確認できる

## 注意事項

- データベースやAPIなどのインターフェイスアダプタのことは考えないでください。つまり、入出力は考えないでください。
- 在庫の引き当ては一旦考慮しないものとする
- 「ただし」から始まるTODOに該当した場合は、欠陥(ディフェクト)ではなく失敗(エラー)とする。エラーは呼出元でリカバリに使われる

---

## 在庫を考慮したシナリオ

1. カートには購入したい商品を追加できる。数量も指定できる
    - ただし、在庫引き当てできない商品は追加できない
    - カートに追加した商品は在庫引き当てを行う
1. カートから商品を削除できる
    - カートから削除された商品の在庫引き当て数分を解除します。
